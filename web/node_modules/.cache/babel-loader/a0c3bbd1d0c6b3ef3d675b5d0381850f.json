{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faque\\\\Desktop\\\\Ironhack\\\\Proyecto-modulo-3\\\\APIDOG\\\\web\\\\src\\\\components\\\\adoptions\\\\AdoptionForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from '../../contexts/AuthStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validations = {\n  homeInfo: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your home';\n    }\n\n    return message;\n  },\n  familyInfo: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your family';\n    }\n\n    return message;\n  },\n  workInfo: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your work and hobbies';\n    }\n\n    return message;\n  },\n  petNecessities: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet necessities';\n    }\n\n    return message;\n  },\n  petCosts: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet costs';\n    }\n\n    return message;\n  },\n  whyAdoption: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about why you want to adopt';\n    }\n\n    return message;\n  },\n  perfectPet: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your perfect pet';\n    }\n\n    return message;\n  },\n  shelterPolicy: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about our shelter policy';\n    }\n\n    return message;\n  },\n  badBehaviour: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about bad behaviour';\n    }\n\n    return message;\n  },\n  behaviourSolution: value => {\n    let message;\n\n    if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about behaviour solutions';\n    }\n\n    return message;\n  }\n};\n\nfunction AdoptionForm() {\n  _s();\n\n  const history = useHistory();\n  const [state, setState] = useState({\n    adoption: {\n      homeInfo: '',\n      familyInfo: '',\n      workInfo: '',\n      petNecessities: '',\n      petCosts: '',\n      whyAdoption: '',\n      perfectPet: '',\n      shelterPolicy: '',\n      badBehaviour: '',\n      behaviourSolution: ''\n    },\n    errors: {\n      homeInfo: validations.homeInfo(),\n      familyInfo: validations.familyInfo(),\n      workInfo: validations.workInfo(),\n      petNecessities: validations.petNecessities(),\n      petCosts: validations.petCosts(),\n      whyAdoption: validations.whyAdoption(),\n      perfectPet: validations.perfectPet(),\n      shelterPolicy: validations.shelterPolicy(),\n      badBehaviour: validations.badBehaviour(),\n      behaviourSolution: validations.behaviourSolution()\n    },\n    touch: {}\n  });\n\n  const handleChange = event => {\n    let {\n      name,\n      value\n    } = event.target;\n\n    if (event.target.file) {\n      value = event.target.files[0];\n    }\n\n    setState(state => ({ ...state,\n      shelter: { ...state.shelter,\n        [name]: value\n      },\n      errors: { ...state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    }));\n  };\n\n  const handleBlur = event => {\n    const {\n      name\n    } = event.target;\n    setState(state => ({ ...state,\n      touch: { ...state.touch,\n        [name]: true\n      }\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('ENTRA', state);\n    const {\n      shelter\n    } = state;\n    shelterService.register(shelter).then(shelter => {\n      history.push('/login', {\n        email: shelter.email\n      });\n    }).catch(error => {\n      const {\n        message,\n        errors\n      } = error && error.response ? error.response.data : error;\n      console.error(message);\n      setState(state => ({ ...state,\n        errors: errors\n      }));\n    });\n  };\n\n  const isValid = () => {\n    const {\n      errors\n    } = state;\n    return Object.keys(errors).some(error => errors[error]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"YEAAAAH\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdoptionForm, \"GkfmgBn4cuFP3W37QmyAOkPPSgY=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdoptionForm;\nexport default AdoptionForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdoptionForm\");","map":{"version":3,"sources":["C:/Users/faque/Desktop/Ironhack/Proyecto-modulo-3/APIDOG/web/src/components/adoptions/AdoptionForm.js"],"names":["useState","useHistory","AuthContext","validations","homeInfo","value","message","length","familyInfo","workInfo","petNecessities","petCosts","whyAdoption","perfectPet","shelterPolicy","badBehaviour","behaviourSolution","AdoptionForm","history","state","setState","adoption","errors","touch","handleChange","event","name","target","file","files","shelter","handleBlur","handleSubmit","e","preventDefault","console","log","shelterService","register","then","push","email","catch","error","response","data","isValid","Object","keys","some"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { AuthContext } from '../../contexts/AuthStore';\r\n\r\nconst validations = {\r\n    homeInfo: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your home'\r\n        }\r\n        return message;\r\n    },\r\n    familyInfo: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your family'\r\n        }\r\n        return message;\r\n    },\r\n    workInfo: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your work and hobbies'\r\n        }\r\n        return message;\r\n    },\r\n    petNecessities: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet necessities'\r\n        }\r\n        return message;\r\n    },\r\n    petCosts: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet costs'\r\n        }\r\n        return message;\r\n    },\r\n    whyAdoption: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about why you want to adopt'\r\n        }\r\n        return message;\r\n    },\r\n    perfectPet: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your perfect pet'\r\n        }\r\n        return message;\r\n    },\r\n    shelterPolicy: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about our shelter policy'\r\n        }\r\n        return message;\r\n    },\r\n    badBehaviour: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about bad behaviour'\r\n        }\r\n        return message;\r\n    },\r\n    behaviourSolution: (value) => {\r\n        let message;\r\n        if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about behaviour solutions'\r\n        }\r\n        return message;\r\n    },\r\n}\r\n\r\nfunction AdoptionForm() {\r\n\r\n    const history = useHistory();\r\n\r\n    const [state, setState] = useState({\r\n        adoption: {\r\n            homeInfo: '',\r\n            familyInfo: '',\r\n            workInfo: '',\r\n            petNecessities: '',\r\n            petCosts: '',\r\n            whyAdoption: '',\r\n            perfectPet: '',\r\n            shelterPolicy: '',\r\n            badBehaviour: '',\r\n            behaviourSolution: '',\r\n        },\r\n        errors: {\r\n            homeInfo: validations.homeInfo(),\r\n            familyInfo: validations.familyInfo(),\r\n            workInfo: validations.workInfo(),\r\n            petNecessities: validations.petNecessities(),\r\n            petCosts: validations.petCosts(),\r\n            whyAdoption: validations.whyAdoption(),\r\n            perfectPet: validations.perfectPet(),\r\n            shelterPolicy: validations.shelterPolicy(),\r\n            badBehaviour: validations.badBehaviour(),\r\n            behaviourSolution: validations.behaviourSolution(),\r\n        },\r\n        touch: {}\r\n    })\r\n\r\n\r\n    const handleChange = (event) => {\r\n        let { name, value } = event.target;\r\n\r\n        if (event.target.file) {\r\n            value = event.target.files[0]\r\n        }\r\n\r\n\r\n        setState(state => ({\r\n            ...state,\r\n            shelter: {\r\n                ...state.shelter,\r\n                [name]: value\r\n            },\r\n            errors: {\r\n                ...state.errors,\r\n                [name]: validations[name] && validations[name](value)\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleBlur = (event) => {\r\n        const { name } = event.target;\r\n        setState(state => ({\r\n            ...state,\r\n            touch: {\r\n                ...state.touch,\r\n                [name]: true\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('ENTRA', state)\r\n        \r\n        const { shelter } = state;\r\n        shelterService.register(shelter)\r\n        .then(shelter => {\r\n            history.push('/login', { email: shelter.email})\r\n        })\r\n        .catch(error => {\r\n            const { message, errors } = error && error.response ? error.response.data : error;\r\n            console.error(message);\r\n\r\n            setState(state => ({\r\n                ...state,\r\n                errors: errors\r\n            }))\r\n        })         \r\n        \r\n    }\r\n\r\n    const isValid = () => {\r\n        const { errors } = state;\r\n        return Object.keys(errors).some(error => errors[error]);\r\n    }\r\n\r\n\r\n    return (\r\n        <div>YEAAAAH</div>\r\n    );\r\n}\r\n\r\nexport default AdoptionForm;"]},"metadata":{},"sourceType":"module"}