{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faque\\\\Desktop\\\\Ironhack\\\\Proyecto-modulo-3\\\\APIDOG\\\\web\\\\src\\\\components\\\\adoptions\\\\AdoptionForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from '../../contexts/AuthStore';\nimport adoptionService from '../../services/adoption-service';\nimport './AdoptionForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validations = {\n  homeInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your home';\n    }\n\n    return message;\n  },\n  familyInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your family';\n    }\n\n    return message;\n  },\n  workInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your work and hobbies';\n    }\n\n    return message;\n  },\n  petNecessities: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet necessities';\n    }\n\n    return message;\n  },\n  petCosts: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet costs';\n    }\n\n    return message;\n  },\n  whyAdoption: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about why you want to adopt';\n    }\n\n    return message;\n  },\n  perfectPet: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your perfect pet';\n    }\n\n    return message;\n  },\n  shelterPolicy: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about our shelter policy';\n    }\n\n    return message;\n  },\n  badBehaviour: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about bad behaviour';\n    }\n\n    return message;\n  },\n  behaviourSolution: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about behaviour solutions';\n    }\n\n    return message;\n  }\n};\n\nfunction AdoptionForm() {\n  _s();\n\n  const history = useHistory();\n  const [state, setState] = useState({\n    adoption: {\n      homeInfo: '',\n      familyInfo: '',\n      workInfo: '',\n      petNecessities: '',\n      petCosts: '',\n      whyAdoption: '',\n      perfectPet: '',\n      shelterPolicy: '',\n      badBehaviour: '',\n      behaviourSolution: ''\n    },\n    errors: {\n      homeInfo: validations.homeInfo(),\n      familyInfo: validations.familyInfo(),\n      workInfo: validations.workInfo(),\n      petNecessities: validations.petNecessities(),\n      petCosts: validations.petCosts(),\n      whyAdoption: validations.whyAdoption(),\n      perfectPet: validations.perfectPet(),\n      shelterPolicy: validations.shelterPolicy(),\n      badBehaviour: validations.badBehaviour(),\n      behaviourSolution: validations.behaviourSolution()\n    },\n    touch: {}\n  });\n\n  const handleChange = event => {\n    let {\n      name,\n      value\n    } = event.target;\n\n    if (event.target.file) {\n      value = event.target.files[0];\n    }\n\n    setState(state => ({ ...state,\n      adoption: { ...state.adoption,\n        [name]: value\n      },\n      errors: { ...state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    }));\n  };\n\n  const handleBlur = event => {\n    const {\n      name\n    } = event.target;\n    setState(state => ({ ...state,\n      touch: { ...state.touch,\n        [name]: true\n      }\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('ENTRA', state);\n    const {\n      adoption\n    } = state;\n    adoptionService.create(adoption).then(adoption => {\n      history.push(`/adoptions/${adoption.id}`);\n    }).catch(error => {\n      const {\n        message,\n        errors\n      } = error && error.response ? error.response.data : error;\n      console.error(message);\n      setState(state => ({ ...state,\n        errors: errors\n      }));\n    });\n  };\n\n  const isValid = () => {\n    const {\n      errors\n    } = state;\n    return !Object.keys(errors).some(error => errors[error]);\n  };\n\n  const {\n    adoption,\n    errors,\n    touch\n  } = state;\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"homeInfo\",\n          value: adoption.homeInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your home: flat or house, dimensions, garden, owner or rent, etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.homeInfo && errors.homeInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.homeInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Family\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"familyInfo\",\n          value: adoption.familyInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your family: how many people? Children? babies? anyone with allergy? etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.familyInfo && errors.familyInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.familyInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Work\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"workInfo\",\n          value: adoption.workInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your work: do you have? stability? schedule? Any hobby? Holidays? etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.workInfo && errors.workInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.workInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pet Necessities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"petNecessities\",\n          value: adoption.petNecessities,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us all the necessities you think a cat/dog needs and what do you think about sterilization\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.petNecessities && errors.petNecessities ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.petNecessities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pet Costs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"petCosts\",\n          value: adoption.petCosts,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us all the expenses produce a cat/dog per month and what do you think a vet consult cost\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.petCosts && errors.petCosts ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.petCosts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Why?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"whyAdoption\",\n          value: adoption.whyAdoption,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us why yo\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.whyAdoption && errors.whyAdoption ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.whyAdoption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdoptionForm, \"GkfmgBn4cuFP3W37QmyAOkPPSgY=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdoptionForm;\nexport default AdoptionForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdoptionForm\");","map":{"version":3,"sources":["C:/Users/faque/Desktop/Ironhack/Proyecto-modulo-3/APIDOG/web/src/components/adoptions/AdoptionForm.js"],"names":["useState","useHistory","AuthContext","adoptionService","validations","homeInfo","value","message","length","familyInfo","workInfo","petNecessities","petCosts","whyAdoption","perfectPet","shelterPolicy","badBehaviour","behaviourSolution","AdoptionForm","history","state","setState","adoption","errors","touch","handleChange","event","name","target","file","files","handleBlur","handleSubmit","e","preventDefault","console","log","create","then","push","id","catch","error","response","data","isValid","Object","keys","some"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { AuthContext } from '../../contexts/AuthStore';\r\nimport adoptionService from '../../services/adoption-service';\r\nimport './AdoptionForm.css';\r\n\r\nconst validations = {\r\n    homeInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your home'\r\n        }\r\n        return message;\r\n    },\r\n    familyInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your family'\r\n        }\r\n        return message;\r\n    },\r\n    workInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your work and hobbies'\r\n        }\r\n        return message;\r\n    },\r\n    petNecessities: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet necessities'\r\n        }\r\n        return message;\r\n    },\r\n    petCosts: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet costs'\r\n        }\r\n        return message;\r\n    },\r\n    whyAdoption: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about why you want to adopt'\r\n        }\r\n        return message;\r\n    },\r\n    perfectPet: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your perfect pet'\r\n        }\r\n        return message;\r\n    },\r\n    shelterPolicy: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about our shelter policy'\r\n        }\r\n        return message;\r\n    },\r\n    badBehaviour: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about bad behaviour'\r\n        }\r\n        return message;\r\n    },\r\n    behaviourSolution: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about behaviour solutions'\r\n        }\r\n        return message;\r\n    },\r\n}\r\n\r\nfunction AdoptionForm() {\r\n\r\n    const history = useHistory();\r\n\r\n    const [state, setState] = useState({\r\n        adoption: {\r\n            homeInfo: '',\r\n            familyInfo: '',\r\n            workInfo: '',\r\n            petNecessities: '',\r\n            petCosts: '',\r\n            whyAdoption: '',\r\n            perfectPet: '',\r\n            shelterPolicy: '',\r\n            badBehaviour: '',\r\n            behaviourSolution: '',\r\n        },\r\n        errors: {\r\n            homeInfo: validations.homeInfo(),\r\n            familyInfo: validations.familyInfo(),\r\n            workInfo: validations.workInfo(),\r\n            petNecessities: validations.petNecessities(),\r\n            petCosts: validations.petCosts(),\r\n            whyAdoption: validations.whyAdoption(),\r\n            perfectPet: validations.perfectPet(),\r\n            shelterPolicy: validations.shelterPolicy(),\r\n            badBehaviour: validations.badBehaviour(),\r\n            behaviourSolution: validations.behaviourSolution(),\r\n        },\r\n        touch: {}\r\n    })\r\n\r\n\r\n    const handleChange = (event) => {\r\n        let { name, value } = event.target;\r\n\r\n        if (event.target.file) {\r\n            value = event.target.files[0]\r\n        }\r\n\r\n\r\n        setState(state => ({\r\n            ...state,\r\n            adoption: {\r\n                ...state.adoption,\r\n                [name]: value\r\n            },\r\n            errors: {\r\n                ...state.errors,\r\n                [name]: validations[name] && validations[name](value)\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleBlur = (event) => {\r\n        const { name } = event.target;\r\n        setState(state => ({\r\n            ...state,\r\n            touch: {\r\n                ...state.touch,\r\n                [name]: true\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('ENTRA', state)\r\n        \r\n        const { adoption } = state;\r\n        adoptionService.create(adoption)\r\n            .then(adoption => {\r\n                history.push(`/adoptions/${adoption.id}`)\r\n            })\r\n            .catch(error => {\r\n                const { message, errors } = error && error.response ? error.response.data : error;\r\n                console.error(message);\r\n\r\n                setState(state => ({\r\n                    ...state,\r\n                    errors: errors\r\n                }))\r\n            })         \r\n        \r\n    }\r\n\r\n    const isValid = () => {\r\n        const { errors } = state;\r\n        return !Object.keys(errors).some(error => errors[error]);\r\n    }\r\n\r\n    const { adoption, errors, touch } = state;\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"row\">\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Home</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"homeInfo\" value={adoption.homeInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your home: flat or house, dimensions, garden, owner or rent, etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.homeInfo && errors.homeInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.homeInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Family</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"familyInfo\" value={adoption.familyInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your family: how many people? Children? babies? anyone with allergy? etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.familyInfo && errors.familyInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.familyInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Work</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"workInfo\" value={adoption.workInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your work: do you have? stability? schedule? Any hobby? Holidays? etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.workInfo && errors.workInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.workInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Pet Necessities</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"petNecessities\" value={adoption.petNecessities} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us all the necessities you think a cat/dog needs and what do you think about sterilization\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.petNecessities && errors.petNecessities ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.petNecessities}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Pet Costs</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"petCosts\" value={adoption.petCosts} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us all the expenses produce a cat/dog per month and what do you think a vet consult cost\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.petCosts && errors.petCosts ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.petCosts}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Why?</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"whyAdoption\" value={adoption.whyAdoption} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us why yo\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.whyAdoption && errors.whyAdoption ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.whyAdoption}</div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        \r\n    );   \r\n}\r\n\r\nexport default AdoptionForm;"]},"metadata":{},"sourceType":"module"}