{"ast":null,"code":"export const googleAutocomplete = async (text) => new Promise((resolve, reject) => {\n  if (!text) {\n    return reject(\"Need valid text input\");\n  }\n\n  if (typeof window === \"undefined\") {\n    return reject(\"Need valid window object\");\n  }\n\n  try {\n    const geocoder = new window.google.maps.Geocoder();\n    const service = new window.google.maps.places.AutocompleteService();\n    const request = {\n      input: text\n    };\n    service.getPlacePredictions(request, function (predictions, status) {\n      if (status == 'OK') {\n        predictions.map(item => {\n          return { ...item,\n            geocoder: geocoder.geocode({\n              'placeId': item.place_id\n            })\n          };\n        });\n      }\n    }, resolve);\n    /* function(responses, status) {\r\n        if (status == 'OK') {\r\n            const lat = responses[0].geometry.location.lat();\r\n            const lng = responses[0].geometry.location.lng();\r\n            console.log(responses);\r\n            return responses\r\n        }\r\n    }); */\n\n    /*         resolve)} */\n\n    /* new window.google.maps.places.AutocompleteService().getPlacePredictions(\r\n      { input: text, componentRestrictions: { country: \"es\" } },\r\n      resolve\r\n    ) */\n  } catch (e) {\n    reject(e);\n  }\n});","map":{"version":3,"sources":["C:/Users/faque/Desktop/Ironhack/Proyecto-modulo-3/APIDOG/web/src/services/google-autocomplete-service.js"],"names":["googleAutocomplete","text","Promise","resolve","reject","window","geocoder","google","maps","Geocoder","service","places","AutocompleteService","request","input","getPlacePredictions","predictions","status","map","item","geocode","place_id","e"],"mappings":"AAAA,OAAO,MAAMA,kBAAkB,GAAG,OAAMC,IAAN,KAChC,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,MAAI,CAACH,IAAL,EAAW;AACT,WAAOG,MAAM,CAAC,uBAAD,CAAb;AACD;;AAGD,MAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAOD,MAAM,CAAC,0BAAD,CAAb;AACD;;AAED,MAAI;AACF,UAAME,QAAQ,GAAG,IAAID,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBC,QAAvB,EAAjB;AAEA,UAAMC,OAAO,GAAG,IAAIL,MAAM,CAACE,MAAP,CAAcC,IAAd,CAAmBG,MAAnB,CAA0BC,mBAA9B,EAAhB;AACA,UAAMC,OAAO,GAAG;AAAEC,MAAAA,KAAK,EAAEb;AAAT,KAAhB;AACAS,IAAAA,OAAO,CAACK,mBAAR,CAA4BF,OAA5B,EAAqC,UAAUG,WAAV,EAAuBC,MAAvB,EAA+B;AAChE,UAAGA,MAAM,IAAI,IAAb,EAAkB;AAChBD,QAAAA,WAAW,CAACE,GAAZ,CAAgBC,IAAI,IAAI;AACtB,iBAAO,EACL,GAAGA,IADE;AAELb,YAAAA,QAAQ,EAAEA,QAAQ,CAACc,OAAT,CAAiB;AACzB,yBAAWD,IAAI,CAACE;AADS,aAAjB;AAFL,WAAP;AAMC,SAPH;AAQC;AAAC,KAVR,EAUUlB,OAVV;AAcE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AACI;;AAEE;AACN;AACA;AACA;AACK,GAjCD,CAiCE,OAAOmB,CAAP,EAAU;AACVlB,IAAAA,MAAM,CAACkB,CAAD,CAAN;AACD;AACF,CA9CD,CADK","sourcesContent":["export const googleAutocomplete = async text =>\r\n  new Promise((resolve, reject) => {\r\n    if (!text) {\r\n      return reject(\"Need valid text input\")\r\n    }\r\n\r\n    \r\n    if (typeof window === \"undefined\") {\r\n      return reject(\"Need valid window object\")\r\n    }\r\n\r\n    try {\r\n      const geocoder = new window.google.maps.Geocoder();\r\n\r\n      const service = new window.google.maps.places.AutocompleteService();\r\n      const request = { input: text };\r\n      service.getPlacePredictions(request, function (predictions, status) {\r\n          if(status == 'OK'){\r\n            predictions.map(item => {\r\n              return {\r\n                ...item,\r\n                geocoder: geocoder.geocode({ \r\n                  'placeId': item.place_id\r\n                })\r\n              } \r\n              })\r\n            }}, resolve)\r\n           \r\n          \r\n            \r\n        /* function(responses, status) {\r\n            if (status == 'OK') {\r\n                const lat = responses[0].geometry.location.lat();\r\n                const lng = responses[0].geometry.location.lng();\r\n                console.log(responses);\r\n                return responses\r\n            }\r\n        }); */\r\n    /*         resolve)} */\r\n\r\n      /* new window.google.maps.places.AutocompleteService().getPlacePredictions(\r\n        { input: text, componentRestrictions: { country: \"es\" } },\r\n        resolve\r\n      ) */\r\n    } catch (e) {\r\n      reject(e)\r\n    }\r\n  })"]},"metadata":{},"sourceType":"module"}