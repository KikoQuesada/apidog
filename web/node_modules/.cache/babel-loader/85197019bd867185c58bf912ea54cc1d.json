{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faque\\\\Desktop\\\\Ironhack\\\\Proyecto-modulo-3\\\\APIDOG\\\\web\\\\src\\\\components\\\\adoptions\\\\AdoptionForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { AuthContext } from '../../contexts/AuthStore';\nimport adoptionService from '../../services/adoption-service';\nimport './AdoptionForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst validations = {\n  homeInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your home';\n    }\n\n    return message;\n  },\n  familyInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your family';\n    }\n\n    return message;\n  },\n  workInfo: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your work and hobbies';\n    }\n\n    return message;\n  },\n  petNecessities: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet necessities';\n    }\n\n    return message;\n  },\n  petCosts: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about pet costs';\n    }\n\n    return message;\n  },\n  whyAdoption: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about why you want to adopt';\n    }\n\n    return message;\n  },\n  perfectPet: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about your perfect pet';\n    }\n\n    return message;\n  },\n  shelterPolicy: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about our shelter policy';\n    }\n\n    return message;\n  },\n  badBehaviour: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about bad behaviour';\n    }\n\n    return message;\n  },\n  behaviourSolution: value => {\n    let message;\n\n    if (!value) {} else if (value.length > 1000) {\n      message = 'You only have 1000 chars to tell us about behaviour solutions';\n    }\n\n    return message;\n  }\n};\n\nfunction AdoptionForm() {\n  _s();\n\n  const {\n    user\n  } = Au;\n  const history = useHistory();\n  const [state, setState] = useState({\n    adoption: {\n      homeInfo: '',\n      familyInfo: '',\n      workInfo: '',\n      petNecessities: '',\n      petCosts: '',\n      whyAdoption: '',\n      perfectPet: '',\n      shelterPolicy: '',\n      badBehaviour: '',\n      behaviourSolution: ''\n    },\n    errors: {\n      homeInfo: validations.homeInfo(),\n      familyInfo: validations.familyInfo(),\n      workInfo: validations.workInfo(),\n      petNecessities: validations.petNecessities(),\n      petCosts: validations.petCosts(),\n      whyAdoption: validations.whyAdoption(),\n      perfectPet: validations.perfectPet(),\n      shelterPolicy: validations.shelterPolicy(),\n      badBehaviour: validations.badBehaviour(),\n      behaviourSolution: validations.behaviourSolution()\n    },\n    touch: {}\n  });\n\n  const handleChange = event => {\n    let {\n      name,\n      value\n    } = event.target;\n\n    if (event.target.file) {\n      value = event.target.files[0];\n    }\n\n    setState(state => ({ ...state,\n      adoption: { ...state.adoption,\n        [name]: value\n      },\n      errors: { ...state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    }));\n  };\n\n  const handleBlur = event => {\n    const {\n      name\n    } = event.target;\n    setState(state => ({ ...state,\n      touch: { ...state.touch,\n        [name]: true\n      }\n    }));\n  };\n\n  const handleSubmit = e => {\n    var _user$adoption;\n\n    e.preventDefault();\n    console.log('ENTRA', state);\n    const {\n      adoption\n    } = state;\n    const ad = (user === null || user === void 0 ? void 0 : (_user$adoption = user.adoption) === null || _user$adoption === void 0 ? void 0 : _user$adoption.id) ? adoptionService.update(user.adoption) : adoptionService.create(adoption).then(adoption => {\n      history.push(`/adoptions/${adoption.id}`);\n    }).catch(error => {\n      const {\n        message,\n        errors\n      } = error && error.response ? error.response.data : error;\n      console.error(message);\n      setState(state => ({ ...state,\n        errors: errors\n      }));\n    });\n  };\n\n  const {\n    adoption,\n    errors,\n    touch\n  } = state;\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"row justify-content-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"adoption-title\",\n      children: \"Adoption Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"homeInfo\",\n          value: adoption.homeInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your home: flat or house, dimensions, garden, owner or rent, etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.homeInfo && errors.homeInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.homeInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Family\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"familyInfo\",\n          value: adoption.familyInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your family: how many people? Children? babies? anyone with allergy? etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.familyInfo && errors.familyInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.familyInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Work\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"workInfo\",\n          value: adoption.workInfo,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us about your work: do you have? stability? schedule? Any hobby? Holidays? etc.. \",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.workInfo && errors.workInfo ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.workInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pet Necessities\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"petNecessities\",\n          value: adoption.petNecessities,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us all the necessities you think a cat/dog needs and what do you think about sterilization\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.petNecessities && errors.petNecessities ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.petNecessities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pet Costs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"petCosts\",\n          value: adoption.petCosts,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us all the expenses produce a cat/dog per month and what do you think a vet consult cost\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.petCosts && errors.petCosts ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.petCosts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Why?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"whyAdoption\",\n          value: adoption.whyAdoption,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us why you want to adopt a pet\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.whyAdoption && errors.whyAdoption ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.whyAdoption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Your Perfect Pet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"perfectPet\",\n          value: adoption.perfectPet,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Describe us you perfect pet (cat or dog)\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.perfectPet && errors.perfectPet ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.perfectPet\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Shelter Policy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"shelterPolicy\",\n          value: adoption.shelterPolicy,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Some shelter may want to meet you personally and to make a post adoption following. What do you think about this, are you agree?\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.shelterPolicy && errors.shelterPolicy ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.shelterPolicy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Bad Behaviour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"badBehaviour\",\n          value: adoption.badBehaviour,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us all the bad behaviours of a cat/dog you can remember\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.badBehaviour && errors.badBehaviour ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.badBehaviour\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center col-lg-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group m-4 p-5 d-flex flex-column align-items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Bad Behaviour Solutions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"5\",\n          type: \"text\",\n          name: \"behaviourSolution\",\n          value: adoption.behaviourSolution,\n          onChange: handleChange,\n          onBlur: handleBlur,\n          placeholder: \"Tell us which are the bests approaches to solve this bad behaviours\",\n          className: `adoption-form-control adoption-form-control-underlined border-primary ${touch.behaviourSolution && errors.behaviourSolution ? 'is-invalid' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invalid-feedback\",\n          children: errors.behaviourSolution\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn create-shelter-btn col-2\",\n      type: \"submit\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-paper-plane\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 76\n      }, this), \" Send\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdoptionForm, \"GkfmgBn4cuFP3W37QmyAOkPPSgY=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdoptionForm;\nexport default AdoptionForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdoptionForm\");","map":{"version":3,"sources":["C:/Users/faque/Desktop/Ironhack/Proyecto-modulo-3/APIDOG/web/src/components/adoptions/AdoptionForm.js"],"names":["useState","useHistory","AuthContext","adoptionService","validations","homeInfo","value","message","length","familyInfo","workInfo","petNecessities","petCosts","whyAdoption","perfectPet","shelterPolicy","badBehaviour","behaviourSolution","AdoptionForm","user","Au","history","state","setState","adoption","errors","touch","handleChange","event","name","target","file","files","handleBlur","handleSubmit","e","preventDefault","console","log","ad","id","update","create","then","push","catch","error","response","data"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAO,oBAAP;;AAEA,MAAMC,WAAW,GAAG;AAChBC,EAAAA,QAAQ,EAAGC,KAAD,IAAW;AACjB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,qDAAV;AACH;;AACD,WAAOA,OAAP;AACH,GATe;AAUhBE,EAAAA,UAAU,EAAGH,KAAD,IAAW;AACnB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,uDAAV;AACH;;AACD,WAAOA,OAAP;AACH,GAlBe;AAmBhBG,EAAAA,QAAQ,EAAGJ,KAAD,IAAW;AACjB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,iEAAV;AACH;;AACD,WAAOA,OAAP;AACH,GA3Be;AA4BhBI,EAAAA,cAAc,EAAGL,KAAD,IAAW;AACvB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,2DAAV;AACH;;AACD,WAAOA,OAAP;AACH,GApCe;AAqChBK,EAAAA,QAAQ,EAAGN,KAAD,IAAW;AACjB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,qDAAV;AACH;;AACD,WAAOA,OAAP;AACH,GA7Ce;AA8ChBM,EAAAA,WAAW,EAAGP,KAAD,IAAW;AACpB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,iEAAV;AACH;;AACD,WAAOA,OAAP;AACH,GAtDe;AAuDhBO,EAAAA,UAAU,EAAGR,KAAD,IAAW;AACnB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,4DAAV;AACH;;AACD,WAAOA,OAAP;AACH,GA/De;AAgEhBQ,EAAAA,aAAa,EAAGT,KAAD,IAAW;AACtB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,8DAAV;AACH;;AACD,WAAOA,OAAP;AACH,GAxEe;AAyEhBS,EAAAA,YAAY,EAAGV,KAAD,IAAW;AACrB,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,yDAAV;AACH;;AACD,WAAOA,OAAP;AACH,GAjFe;AAkFhBU,EAAAA,iBAAiB,EAAGX,KAAD,IAAW;AAC1B,QAAIC,OAAJ;;AACA,QAAI,CAACD,KAAL,EAAY,CAEX,CAFD,MAEO,IAAIA,KAAK,CAACE,MAAN,GAAe,IAAnB,EAAyB;AAC5BD,MAAAA,OAAO,GAAG,+DAAV;AACH;;AACD,WAAOA,OAAP;AACH;AA1Fe,CAApB;;AA6FA,SAASW,YAAT,GAAwB;AAAA;;AAEpB,QAAM;AAAEC,IAAAA;AAAF,MAAWC,EAAjB;AACA,QAAMC,OAAO,GAAGpB,UAAU,EAA1B;AAEA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC;AAC/BwB,IAAAA,QAAQ,EAAE;AACNnB,MAAAA,QAAQ,EAAE,EADJ;AAENI,MAAAA,UAAU,EAAE,EAFN;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,cAAc,EAAE,EAJV;AAKNC,MAAAA,QAAQ,EAAE,EALJ;AAMNC,MAAAA,WAAW,EAAE,EANP;AAONC,MAAAA,UAAU,EAAE,EAPN;AAQNC,MAAAA,aAAa,EAAE,EART;AASNC,MAAAA,YAAY,EAAE,EATR;AAUNC,MAAAA,iBAAiB,EAAE;AAVb,KADqB;AAa/BQ,IAAAA,MAAM,EAAE;AACJpB,MAAAA,QAAQ,EAAED,WAAW,CAACC,QAAZ,EADN;AAEJI,MAAAA,UAAU,EAAEL,WAAW,CAACK,UAAZ,EAFR;AAGJC,MAAAA,QAAQ,EAAEN,WAAW,CAACM,QAAZ,EAHN;AAIJC,MAAAA,cAAc,EAAEP,WAAW,CAACO,cAAZ,EAJZ;AAKJC,MAAAA,QAAQ,EAAER,WAAW,CAACQ,QAAZ,EALN;AAMJC,MAAAA,WAAW,EAAET,WAAW,CAACS,WAAZ,EANT;AAOJC,MAAAA,UAAU,EAAEV,WAAW,CAACU,UAAZ,EAPR;AAQJC,MAAAA,aAAa,EAAEX,WAAW,CAACW,aAAZ,EARX;AASJC,MAAAA,YAAY,EAAEZ,WAAW,CAACY,YAAZ,EATV;AAUJC,MAAAA,iBAAiB,EAAEb,WAAW,CAACa,iBAAZ;AAVf,KAbuB;AAyB/BS,IAAAA,KAAK,EAAE;AAzBwB,GAAD,CAAlC;;AA6BA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,QAAI;AAAEC,MAAAA,IAAF;AAAQvB,MAAAA;AAAR,QAAkBsB,KAAK,CAACE,MAA5B;;AAEA,QAAIF,KAAK,CAACE,MAAN,CAAaC,IAAjB,EAAuB;AACnBzB,MAAAA,KAAK,GAAGsB,KAAK,CAACE,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAAR;AACH;;AAGDT,IAAAA,QAAQ,CAACD,KAAK,KAAK,EACf,GAAGA,KADY;AAEfE,MAAAA,QAAQ,EAAE,EACN,GAAGF,KAAK,CAACE,QADH;AAEN,SAACK,IAAD,GAAQvB;AAFF,OAFK;AAMfmB,MAAAA,MAAM,EAAE,EACJ,GAAGH,KAAK,CAACG,MADL;AAEJ,SAACI,IAAD,GAAQzB,WAAW,CAACyB,IAAD,CAAX,IAAqBzB,WAAW,CAACyB,IAAD,CAAX,CAAkBvB,KAAlB;AAFzB;AANO,KAAL,CAAN,CAAR;AAWH,GAnBD;;AAqBA,QAAM2B,UAAU,GAAIL,KAAD,IAAW;AAC1B,UAAM;AAAEC,MAAAA;AAAF,QAAWD,KAAK,CAACE,MAAvB;AACAP,IAAAA,QAAQ,CAACD,KAAK,KAAK,EACf,GAAGA,KADY;AAEfI,MAAAA,KAAK,EAAE,EACH,GAAGJ,KAAK,CAACI,KADN;AAEH,SAACG,IAAD,GAAQ;AAFL;AAFQ,KAAL,CAAN,CAAR;AAOH,GATD;;AAWA,QAAMK,YAAY,GAAIC,CAAD,IAAO;AAAA;;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBhB,KAArB;AAEA,UAAM;AAAEE,MAAAA;AAAF,QAAeF,KAArB;AACA,UAAMiB,EAAE,GAAG,CAAApB,IAAI,SAAJ,IAAAA,IAAI,WAAJ,8BAAAA,IAAI,CAAEK,QAAN,kEAAgBgB,EAAhB,IAAqBrC,eAAe,CAACsC,MAAhB,CAAuBtB,IAAI,CAACK,QAA5B,CAArB,GAA6DrB,eAAe,CAACuC,MAAhB,CAAuBlB,QAAvB,EACnEmB,IADmE,CAC9DnB,QAAQ,IAAI;AACdH,MAAAA,OAAO,CAACuB,IAAR,CAAc,cAAapB,QAAQ,CAACgB,EAAG,EAAvC;AACH,KAHmE,EAInEK,KAJmE,CAI7DC,KAAK,IAAI;AACZ,YAAM;AAAEvC,QAAAA,OAAF;AAAWkB,QAAAA;AAAX,UAAsBqB,KAAK,IAAIA,KAAK,CAACC,QAAf,GAA0BD,KAAK,CAACC,QAAN,CAAeC,IAAzC,GAAgDF,KAA5E;AACAT,MAAAA,OAAO,CAACS,KAAR,CAAcvC,OAAd;AAEAgB,MAAAA,QAAQ,CAACD,KAAK,KAAK,EACf,GAAGA,KADY;AAEfG,QAAAA,MAAM,EAAEA;AAFO,OAAL,CAAN,CAAR;AAIH,KAZmE,CAAxE;AAcH,GAnBD;;AAsBA,QAAM;AAAED,IAAAA,QAAF;AAAYC,IAAAA,MAAZ;AAAoBC,IAAAA;AAApB,MAA8BJ,KAApC;AAEA,sBACI;AAAM,IAAA,QAAQ,EAAEY,YAAhB;AAA8B,IAAA,SAAS,EAAC,4BAAxC;AAAA,4BACI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,UAApC;AAA+C,UAAA,KAAK,EAAEV,QAAQ,CAACnB,QAA/D;AAAyE,UAAA,QAAQ,EAAEsB,YAAnF;AAAiG,UAAA,MAAM,EAAEM,UAAzG;AAAqH,UAAA,WAAW,EAAC,mFAAjI;AAAqN,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACrB,QAAN,IAAkBoB,MAAM,CAACpB,QAAzB,GAAoC,YAApC,GAAmD,EAAG;AAA/V;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCoB,MAAM,CAACpB;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ,eASI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,YAApC;AAAiD,UAAA,KAAK,EAAEmB,QAAQ,CAACf,UAAjE;AAA6E,UAAA,QAAQ,EAAEkB,YAAvF;AAAqG,UAAA,MAAM,EAAEM,UAA7G;AAAyH,UAAA,WAAW,EAAC,2FAArI;AAAiO,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACjB,UAAN,IAAoBgB,MAAM,CAAChB,UAA3B,GAAwC,YAAxC,GAAuD,EAAG;AAA/W;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCgB,MAAM,CAAChB;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YATJ,eAgBI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,UAApC;AAA+C,UAAA,KAAK,EAAEe,QAAQ,CAACd,QAA/D;AAAyE,UAAA,QAAQ,EAAEiB,YAAnF;AAAiG,UAAA,MAAM,EAAEM,UAAzG;AAAqH,UAAA,WAAW,EAAC,wFAAjI;AAA0N,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAAChB,QAAN,IAAkBe,MAAM,CAACf,QAAzB,GAAoC,YAApC,GAAmD,EAAG;AAApW;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCe,MAAM,CAACf;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAhBJ,eAuBI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,gBAApC;AAAqD,UAAA,KAAK,EAAEc,QAAQ,CAACb,cAArE;AAAqF,UAAA,QAAQ,EAAEgB,YAA/F;AAA6G,UAAA,MAAM,EAAEM,UAArH;AAAiI,UAAA,WAAW,EAAC,iGAA7I;AAA+O,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACf,cAAN,IAAwBc,MAAM,CAACd,cAA/B,GAAgD,YAAhD,GAA+D,EAAG;AAArY;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCc,MAAM,CAACd;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAvBJ,eA8BI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,UAApC;AAA+C,UAAA,KAAK,EAAEa,QAAQ,CAACZ,QAA/D;AAAyE,UAAA,QAAQ,EAAEe,YAAnF;AAAiG,UAAA,MAAM,EAAEM,UAAzG;AAAqH,UAAA,WAAW,EAAC,+FAAjI;AAAiO,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACd,QAAN,IAAkBa,MAAM,CAACb,QAAzB,GAAoC,YAApC,GAAmD,EAAG;AAA3W;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCa,MAAM,CAACb;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA9BJ,eAqCI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,aAApC;AAAkD,UAAA,KAAK,EAAEY,QAAQ,CAACX,WAAlE;AAA+E,UAAA,QAAQ,EAAEc,YAAzF;AAAuG,UAAA,MAAM,EAAEM,UAA/G;AAA2H,UAAA,WAAW,EAAC,qCAAvI;AAA6K,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACb,WAAN,IAAqBY,MAAM,CAACZ,WAA5B,GAA0C,YAA1C,GAAyD,EAAG;AAA7T;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCY,MAAM,CAACZ;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YArCJ,eA4CI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,YAApC;AAAiD,UAAA,KAAK,EAAEW,QAAQ,CAACV,UAAjE;AAA6E,UAAA,QAAQ,EAAEa,YAAvF;AAAqG,UAAA,MAAM,EAAEM,UAA7G;AAAyH,UAAA,WAAW,EAAC,0CAArI;AAAgL,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACZ,UAAN,IAAoBW,MAAM,CAACX,UAA3B,GAAwC,YAAxC,GAAuD,EAAG;AAA9T;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCW,MAAM,CAACX;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA5CJ,eAmDI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,eAApC;AAAoD,UAAA,KAAK,EAAEU,QAAQ,CAACT,aAApE;AAAmF,UAAA,QAAQ,EAAEY,YAA7F;AAA2G,UAAA,MAAM,EAAEM,UAAnH;AAA+H,UAAA,WAAW,EAAC,kIAA3I;AAA8Q,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACX,aAAN,IAAuBU,MAAM,CAACV,aAA9B,GAA8C,YAA9C,GAA6D,EAAG;AAAla;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCU,MAAM,CAACV;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAnDJ,eA0DI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,cAApC;AAAmD,UAAA,KAAK,EAAES,QAAQ,CAACR,YAAnE;AAAiF,UAAA,QAAQ,EAAEW,YAA3F;AAAyG,UAAA,MAAM,EAAEM,UAAjH;AAA6H,UAAA,WAAW,EAAC,8DAAzI;AAAwM,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACV,YAAN,IAAsBS,MAAM,CAACT,YAA7B,GAA4C,YAA5C,GAA2D,EAAG;AAA1V;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCS,MAAM,CAACT;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA1DJ,eAiEI;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,0DAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAU,UAAA,IAAI,EAAC,GAAf;AAAmB,UAAA,IAAI,EAAC,MAAxB;AAA+B,UAAA,IAAI,EAAC,mBAApC;AAAwD,UAAA,KAAK,EAAEQ,QAAQ,CAACP,iBAAxE;AAA2F,UAAA,QAAQ,EAAEU,YAArG;AAAmH,UAAA,MAAM,EAAEM,UAA3H;AAAuI,UAAA,WAAW,EAAC,qEAAnJ;AAAyN,UAAA,SAAS,EAAG,yEAAwEP,KAAK,CAACT,iBAAN,IAA2BQ,MAAM,CAACR,iBAAlC,GAAsD,YAAtD,GAAqE,EAAG;AAArX;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,oBAAmCQ,MAAM,CAACR;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAjEJ,eAwEI;AAAQ,MAAA,SAAS,EAAC,8BAAlB;AAAiD,MAAA,IAAI,EAAC,QAAtD;AAAA,8BAA+D;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAA/D;AAAA;AAAA;AAAA;AAAA;AAAA,YAxEJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA6EH;;GAvKQC,Y;UAGWjB,U;;;KAHXiB,Y;AAyKT,eAAeA,YAAf","sourcesContent":["import { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { AuthContext } from '../../contexts/AuthStore';\r\nimport adoptionService from '../../services/adoption-service';\r\nimport './AdoptionForm.css';\r\n\r\nconst validations = {\r\n    homeInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your home'\r\n        }\r\n        return message;\r\n    },\r\n    familyInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your family'\r\n        }\r\n        return message;\r\n    },\r\n    workInfo: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your work and hobbies'\r\n        }\r\n        return message;\r\n    },\r\n    petNecessities: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet necessities'\r\n        }\r\n        return message;\r\n    },\r\n    petCosts: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about pet costs'\r\n        }\r\n        return message;\r\n    },\r\n    whyAdoption: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about why you want to adopt'\r\n        }\r\n        return message;\r\n    },\r\n    perfectPet: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about your perfect pet'\r\n        }\r\n        return message;\r\n    },\r\n    shelterPolicy: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about our shelter policy'\r\n        }\r\n        return message;\r\n    },\r\n    badBehaviour: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about bad behaviour'\r\n        }\r\n        return message;\r\n    },\r\n    behaviourSolution: (value) => {\r\n        let message;\r\n        if (!value) {\r\n            \r\n        } else if (value.length > 1000) {\r\n            message = 'You only have 1000 chars to tell us about behaviour solutions'\r\n        }\r\n        return message;\r\n    },\r\n}\r\n\r\nfunction AdoptionForm() {\r\n\r\n    const { user } = Au\r\n    const history = useHistory();\r\n\r\n    const [state, setState] = useState({\r\n        adoption: {\r\n            homeInfo: '',\r\n            familyInfo: '',\r\n            workInfo: '',\r\n            petNecessities: '',\r\n            petCosts: '',\r\n            whyAdoption: '',\r\n            perfectPet: '',\r\n            shelterPolicy: '',\r\n            badBehaviour: '',\r\n            behaviourSolution: '',\r\n        },\r\n        errors: {\r\n            homeInfo: validations.homeInfo(),\r\n            familyInfo: validations.familyInfo(),\r\n            workInfo: validations.workInfo(),\r\n            petNecessities: validations.petNecessities(),\r\n            petCosts: validations.petCosts(),\r\n            whyAdoption: validations.whyAdoption(),\r\n            perfectPet: validations.perfectPet(),\r\n            shelterPolicy: validations.shelterPolicy(),\r\n            badBehaviour: validations.badBehaviour(),\r\n            behaviourSolution: validations.behaviourSolution(),\r\n        },\r\n        touch: {}\r\n    })\r\n\r\n\r\n    const handleChange = (event) => {\r\n        let { name, value } = event.target;\r\n\r\n        if (event.target.file) {\r\n            value = event.target.files[0]\r\n        }\r\n\r\n\r\n        setState(state => ({\r\n            ...state,\r\n            adoption: {\r\n                ...state.adoption,\r\n                [name]: value\r\n            },\r\n            errors: {\r\n                ...state.errors,\r\n                [name]: validations[name] && validations[name](value)\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleBlur = (event) => {\r\n        const { name } = event.target;\r\n        setState(state => ({\r\n            ...state,\r\n            touch: {\r\n                ...state.touch,\r\n                [name]: true\r\n            }\r\n        }));\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('ENTRA', state)\r\n        \r\n        const { adoption } = state;\r\n        const ad = user?.adoption?.id ? adoptionService.update(user.adoption) : adoptionService.create(adoption)\r\n            .then(adoption => {\r\n                history.push(`/adoptions/${adoption.id}`)\r\n            })\r\n            .catch(error => {\r\n                const { message, errors } = error && error.response ? error.response.data : error;\r\n                console.error(message);\r\n\r\n                setState(state => ({\r\n                    ...state,\r\n                    errors: errors\r\n                }))\r\n            })         \r\n        \r\n    }\r\n\r\n\r\n    const { adoption, errors, touch } = state;\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"row justify-content-center\">\r\n            <h2 className=\"adoption-title\">Adoption Form</h2>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Home</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"homeInfo\" value={adoption.homeInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your home: flat or house, dimensions, garden, owner or rent, etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.homeInfo && errors.homeInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.homeInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Family</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"familyInfo\" value={adoption.familyInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your family: how many people? Children? babies? anyone with allergy? etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.familyInfo && errors.familyInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.familyInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Work</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"workInfo\" value={adoption.workInfo} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us about your work: do you have? stability? schedule? Any hobby? Holidays? etc.. \" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.workInfo && errors.workInfo ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.workInfo}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Pet Necessities</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"petNecessities\" value={adoption.petNecessities} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us all the necessities you think a cat/dog needs and what do you think about sterilization\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.petNecessities && errors.petNecessities ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.petNecessities}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Pet Costs</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"petCosts\" value={adoption.petCosts} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us all the expenses produce a cat/dog per month and what do you think a vet consult cost\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.petCosts && errors.petCosts ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.petCosts}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Why?</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"whyAdoption\" value={adoption.whyAdoption} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us why you want to adopt a pet\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.whyAdoption && errors.whyAdoption ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.whyAdoption}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Your Perfect Pet</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"perfectPet\" value={adoption.perfectPet} onChange={handleChange} onBlur={handleBlur} placeholder=\"Describe us you perfect pet (cat or dog)\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.perfectPet && errors.perfectPet ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.perfectPet}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Shelter Policy</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"shelterPolicy\" value={adoption.shelterPolicy} onChange={handleChange} onBlur={handleBlur} placeholder=\"Some shelter may want to meet you personally and to make a post adoption following. What do you think about this, are you agree?\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.shelterPolicy && errors.shelterPolicy ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.shelterPolicy}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Bad Behaviour</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"badBehaviour\" value={adoption.badBehaviour} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us all the bad behaviours of a cat/dog you can remember\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.badBehaviour && errors.badBehaviour ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.badBehaviour}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row justify-content-center col-lg-6\">\r\n                <div className=\"input-group m-4 p-5 d-flex flex-column align-items-start\">\r\n                    <h5>Bad Behaviour Solutions</h5>\r\n                    <textarea rows='5' type=\"text\" name=\"behaviourSolution\" value={adoption.behaviourSolution} onChange={handleChange} onBlur={handleBlur} placeholder=\"Tell us which are the bests approaches to solve this bad behaviours\" className={`adoption-form-control adoption-form-control-underlined border-primary ${touch.behaviourSolution && errors.behaviourSolution ? 'is-invalid' : ''}`}/>\r\n                    <div className=\"invalid-feedback\">{errors.behaviourSolution}</div>\r\n                </div>\r\n            </div>\r\n            <button className=\"btn create-shelter-btn col-2\" type=\"submit\"><i className=\"fas fa-paper-plane\"></i> Send</button>\r\n        </form>\r\n        \r\n    );   \r\n}\r\n\r\nexport default AdoptionForm;"]},"metadata":{},"sourceType":"module"}