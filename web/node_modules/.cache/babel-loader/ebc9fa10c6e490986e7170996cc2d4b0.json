{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\faque\\\\Desktop\\\\Ironhack\\\\Proyecto-modulo-3\\\\APIDOG\\\\web\\\\src\\\\contexts\\\\AuthStore.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState, useCallback } from 'react';\nimport { currentUserStorageKey } from '../services/base-api-service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\nfunction AuthStore({\n  children\n}) {\n  _s();\n\n  const [user, setUser] = useState(localStorage.getItem(currentUserStorageKey) ? JSON.parse(localStorage.getItem(currentUserStorageKey)) : undefined);\n  const handleUserChange = useCallback(user => {\n    if (user) localStorage.setItem(currentUserStorageKey, JSON.stringify(user));else localStorage.removeItem(currentUserStorageKey);\n    setUser(user);\n  }, []);\n  const isAuthenticated = useCallback(() => {\n    return user && user.email;\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      onUserChange: handleUserChange\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AuthStore, \"uDMFCNtv+Koyj0qEuXVCJLbc/vw=\");\n\n_c = AuthStore;\nexport { AuthStore as default, AuthContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthStore\");","map":{"version":3,"sources":["C:/Users/faque/Desktop/Ironhack/Proyecto-modulo-3/APIDOG/web/src/contexts/AuthStore.js"],"names":["createContext","useState","useCallback","currentUserStorageKey","AuthContext","AuthStore","children","user","setUser","localStorage","getItem","JSON","parse","undefined","handleUserChange","setItem","stringify","removeItem","isAuthenticated","email","onUserChange","default"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,EAAkCC,WAAlC,QAAqD,OAArD;AAEA,SAASC,qBAAT,QAAsC,8BAAtC;;AAEA,MAAMC,WAAW,gBAAGJ,aAAa,EAAjC;;AAEA,SAASK,SAAT,CAAmB;AAAEC,EAAAA;AAAF,CAAnB,EAAiC;AAAA;;AAE/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAACQ,YAAY,CAACC,OAAb,CAAqBP,qBAArB,IAA8CQ,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBP,qBAArB,CAAX,CAA9C,GAAwGU,SAAzG,CAAhC;AAEA,QAAMC,gBAAgB,GAAGZ,WAAW,CAAEK,IAAD,IAAU;AAC7C,QAAIA,IAAJ,EAAUE,YAAY,CAACM,OAAb,CAAqBZ,qBAArB,EAA4CQ,IAAI,CAACK,SAAL,CAAeT,IAAf,CAA5C,EAAV,KACKE,YAAY,CAACQ,UAAb,CAAwBd,qBAAxB;AACLK,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD,GAJmC,EAIjC,EAJiC,CAApC;AAMA,QAAMW,eAAe,GAAGhB,WAAW,CAAC,MAAM;AACxC,WAAOK,IAAI,IAAIA,IAAI,CAACY,KAApB;AACD,GAFkC,EAEhC,CAACZ,IAAD,CAFgC,CAAnC;AAIA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEA,MAAAA,IAAF;AAAQW,MAAAA,eAAR;AAAyBE,MAAAA,YAAY,EAAEN;AAAvC,KAA7B;AAAA,cACGR;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAnBQD,S;;KAAAA,S;AAqBT,SAASA,SAAS,IAAIgB,OAAtB,EAA+BjB,WAA/B","sourcesContent":["import { createContext, useState, useCallback } from 'react';\r\n\r\nimport { currentUserStorageKey } from '../services/base-api-service';\r\n\r\nconst AuthContext = createContext();\r\n\r\nfunction AuthStore({ children }) {\r\n\r\n  const [user, setUser] = useState(localStorage.getItem(currentUserStorageKey) ? JSON.parse(localStorage.getItem(currentUserStorageKey)) : undefined);\r\n\r\n  const handleUserChange = useCallback((user) => {\r\n    if (user) localStorage.setItem(currentUserStorageKey, JSON.stringify(user));\r\n    else localStorage.removeItem(currentUserStorageKey);\r\n    setUser(user);\r\n  }, []);\r\n\r\n  const isAuthenticated = useCallback(() => {\r\n    return user && user.email;\r\n  }, [user])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, isAuthenticated, onUserChange: handleUserChange }} >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AuthStore as default, AuthContext };"]},"metadata":{},"sourceType":"module"}